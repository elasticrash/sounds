<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>sound.js</title>
    <link rel="stylesheet" href="piano.css"/>
    <script   src="https://code.jquery.com/jquery-2.2.3.min.js"   integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="   crossorigin="anonymous"></script>
    <script language="JavaScript" type="text/javascript" src="sound.js"></script>
    <script>
        $( document ).ready(function() {
            if($('.piano') && $('#play')) {
                $('#play').click(function () {
                    analyseText($('#ta').val());
                });
                notes.forEach(function (item) {
                    var keyid = item.name.replace('#', "_") + item.position;
                    if (item.name.indexOf('#') === -1) {
                        //white keys
                        $('.piano').append("<li class='white' id='" + keyid + "'></li>");
                    } else {
                        //black keys
                        $('.piano').append("<li class='black' id='" + keyid + "'></li>");
                    }
                    $('#' + keyid).click(function () {
                        sound.note(item.frequency);
                    })
                })
            }
        });
    </script>
</head>
<body>
<textarea id="ta">BEAT: 100bpm C6-1 D6-0.5 A6-0.5 </textarea>
<button id="play">play</button>
<ul class="piano"></ul>
</body>
</html>